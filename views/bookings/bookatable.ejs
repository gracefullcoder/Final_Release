<%- include("../includes/header.ejs") %>
<title>Booking Details</title>
</head>

<style>
  form {
    margin-top: 20px;
  }

  #signupForm .btn {
    background-color: transparent;
  }

  #signupForm .btn:hover {
    background-color: #eee;
    color: #000;
  }
</style>



<body id="top">

  <section class="section countdown bg-black-10 text-center" aria-label="countdown" id="workshop">
    <div class="container">

      <p class="headline-1 section-title" style="text-align: center;">WELCOME</p>

      <hr style="margin-block: 3rem 2rem;">

      <h2 class="headline-1 section-title">HAVE A LOOK ON Today Bookings</h2>
      <div style="overflow-x: auto;">
        <table class="table table-striped table-bordered border-white"
          style="color:antiquewhite; border: 10px; border-color: brown;">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Name</th>
              <th scope="col">Phone No.</th>
              <th scope="col">No. of people</th>
              <th scope="col">Message</th>
              <th scope="col">Update</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <%for(booking of todayBookings) {%>


              <tr>
                <th scope="row">
                  <%= `${booking.time.getDate().toString().padStart(2, '0' )} - ${(booking.time.getMonth() +
                    1).toString().padStart(2, '0' )} - ${booking.time.getFullYear()}` %>
                </th>
                <td>
                  <% const hours=booking.time.getHours(); const
                    minutes=booking.time.getMinutes().toString().padStart(2, '0' ); const period=hours>= 12 ? 'PM' :
                    'AM';
                    const hours12 = hours % 12 || 12;
                    %>
                    <%= `${hours12}:${minutes} ${period}` %>
                </td>
                <td>
                  <%=booking.name%>
                </td>
                <td>
                  <%=booking.phone%>
                </td>
                <td>
                  <%=booking.person%>
                </td>
                <td>
                  <%=booking.message%>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="get"
                    action="/admin/bookings/edit/<%= booking._id%>">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">Edit!</span>
                    </button>
                  </form>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="post"
                    action="/admin/bookings/<%= booking._id%>?_method=DELETE">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">DELETE</span>
                    </button>
                  </form>
                </td>
              </tr>
              <% }%>
          </tbody>
        </table>

        <hr style="margin-block: 5rem 5rem;">


        <h2 class="headline-1 section-title">HAVE A LOOK ON Ahead Bookings</h2>
        <table class="table table-striped table-bordered border-white"
          style="color:antiquewhite; border: 10px; border-color: brown;">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Name</th>
              <th scope="col">Phone No.</th>
              <th scope="col">No. of people</th>
              <th scope="col">Message</th>
              <th scope="col">Update</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <%for(booking of aheadBookings) {%>


              <tr>
                <th scope="row">
                  <%= `${booking.time.getDate().toString().padStart(2, '0' )} - ${(booking.time.getMonth() +
                    1).toString().padStart(2, '0' )} - ${booking.time.getFullYear()}` %>
                </th>
                <td>
                  <% const hours=booking.time.getHours(); const
                    minutes=booking.time.getMinutes().toString().padStart(2, '0' ); const period=hours>= 12 ? 'PM' :
                    'AM';
                    const hours12 = hours % 12 || 12;
                    %>
                    <%= `${hours12}:${minutes} ${period}` %>
                </td>
                <td>
                  <%=booking.name%>
                </td>
                <td>
                  <%=booking.phone%>
                </td>
                <td>
                  <%=booking.person%>
                </td>
                <td>
                  <%=booking.message%>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="get"
                    action="/admin/bookings/edit/<%= booking._id%>">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">Edit!</span>
                    </button>
                  </form>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="post"
                    action="/admin/bookings/<%= booking._id%>?_method=DELETE">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">DELETE</span>
                    </button>
                  </form>
                </td>
              </tr>
              <% }%>
          </tbody>
        </table>

        <hr style="margin-block: 5rem 5rem;">
        <h2 class="headline-1 section-title">HAVE A LOOK ON Past Bookings</h2>
        <table class="table table-striped table-bordered border-white"
          style="color:antiquewhite; border: 10px; border-color: brown;">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Time</th>
              <th scope="col">Name</th>
              <th scope="col">Phone No.</th>
              <th scope="col">No. of people</th>
              <th scope="col">Message</th>
              <th scope="col">Update</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <%for(booking of pastBookings) {%>


              <tr>
                <th scope="row">
                  <%= `${booking.time.getDate().toString().padStart(2, '0' )} - ${(booking.time.getMonth() +
                    1).toString().padStart(2, '0' )} - ${booking.time.getFullYear()}` %>
                </th>
                <td>
                  <% const hours=booking.time.getHours(); const
                    minutes=booking.time.getMinutes().toString().padStart(2, '0' ); const period=hours>= 12 ? 'PM' :
                    'AM';
                    const hours12 = hours % 12 || 12;
                    %>
                    <%= `${hours12}:${minutes} ${period}` %>
                </td>
                <td>
                  <%=booking.name%>
                </td>
                <td>
                  <%=booking.phone%>
                </td>
                <td>
                  <%=booking.person%>
                </td>
                <td>
                  <%=booking.message%>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="get"
                    action="/admin/bookings/edit/<%= booking._id%>">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">Edit!</span>
                    </button>
                  </form>
                </td>
                <td>
                  <form id="signupForm" class="signup-form" method="post"
                    action="/admin/bookings/<%= booking._id%>?_method=DELETE">
                    <button type="submit" class="btn btn-primary">
                      <span class="text text-1">DELETE</span>
                    </button>
                  </form>
                </td>
              </tr>
              <% }%>
          </tbody>
        </table>
      </div>
    </div>
  </section>

</body>

</html>